# NixOS Flake Configuration Рђћ Dev Machine (Laptop)

рЃћрЃА рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ рЃгрЃљрЃарЃЏрЃЮрЃљрЃЊрЃњрЃћрЃюрЃА **рЃњрЃљрЃЏрЃљрЃарЃЌрЃБрЃџ, Flake-рЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџ NixOS рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљрЃА**, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃарЃЮрЃњрЃЮрЃарЃф **рЃАрЃљрЃАрЃљрЃЋрЃџрЃЮ рЃћрЃбрЃљрЃџрЃЮрЃюрЃў** рЃЊрЃљ **рЃарЃћрЃљрЃџрЃБрЃарЃў рЃДрЃЮрЃЋрЃћрЃџрЃЊрЃдрЃўрЃБрЃарЃў dev-machine**.

рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ рЃљрЃњрЃћрЃЉрЃБрЃџрЃўрЃљ **NixOS 25.11+** рЃ«рЃљрЃќрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЊрЃљ рЃљрЃа рЃњрЃљрЃюрЃўрЃ«рЃўрЃџрЃљрЃЋрЃА рЃФрЃЋрЃћрЃџ рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃА.

---

## ­Ъј» рЃЏрЃўрЃќрЃљрЃюрЃў

рЃљрЃЏ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЏрЃўрЃќрЃљрЃюрЃўрЃљ:

- рЃарЃћрЃърЃарЃЮрЃЊрЃБрЃфрЃўрЃарЃћрЃЉрЃљрЃЊрЃў NixOS рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ
- рЃЏрЃЎрЃљрЃцрЃўрЃЮ рЃњрЃљрЃЏрЃўрЃ»рЃЋрЃюрЃљ system-level рЃЊрЃљ user-level рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА
- рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў dev-machine рЃџрЃћрЃърЃбрЃЮрЃърЃўрЃАрЃЌрЃЋрЃўрЃА
- рЃАрЃгрЃЮрЃарЃў Flake рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃўрЃА рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА

рЃћрЃА **рЃљрЃа рЃљрЃарЃўрЃА рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃБрЃџрЃў desktop**, рЃљрЃарЃљрЃЏрЃћрЃЊ рЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ.

---

## ­ЪД▒ рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃърЃарЃўрЃюрЃфрЃўрЃърЃћрЃЉрЃў

### 1. Declarative First
рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃљрЃдрЃгрЃћрЃарЃўрЃџрЃўрЃљ рЃЊрЃћрЃЎрЃџрЃљрЃарЃљрЃфрЃўрЃБрЃџрЃљрЃЊ:
- рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў
- рЃърЃљрЃЎрЃћрЃбрЃћрЃЉрЃў
- рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃў

### 2. Clear Separation of Concerns
- **System layer** Рђћ NixOS modules
- **User layer** Рђћ Home Manager (user tooling)

Home Manager **рЃљрЃа рЃЏрЃљрЃарЃЌрЃљрЃЋрЃА desktop-рЃА рЃАрЃарЃБрЃџрЃљрЃЊ** Рђћ рЃўрЃА рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃарЃЮрЃњрЃЮрЃарЃф user-environment рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў.

### 3. Flake-based Architecture
- рЃДрЃЋрЃћрЃџрЃљ input рЃЊрЃљрЃцрЃўрЃЦрЃАрЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ
- рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃў рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃўрЃарЃћрЃЉрЃљрЃЊрЃўрЃљ
- Git tag = рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃљ

---

## ­ЪќЦ№ИЈ Main Host

```text
Host: laptop
Role: dev-machine
````

рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ:

* рЃДрЃЮрЃЋрЃћрЃџрЃЊрЃдрЃўрЃБрЃарЃў рЃЏрЃБрЃерЃљрЃЮрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
* рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
* рЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃЮрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
* рЃАрЃгрЃарЃљрЃцрЃў rollback-рЃўрЃАрЃЌрЃЋрЃўрЃА

---

## ­ЪДЕ Home Manager-рЃўрЃА рЃарЃЮрЃџрЃў

Home Manager рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ **Minimal User Layer**-рЃўрЃА рЃАрЃљрЃ«рЃўрЃЌ:

Рюћ рЃЏрЃљрЃарЃЌрЃљрЃЋрЃА:

* shell рЃњрЃљрЃарЃћрЃЏрЃЮрЃА
* editor configs
* CLI tooling
* user-level systemd рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃА

Рюќ рЃљрЃа рЃЏрЃљрЃарЃЌрЃљрЃЋрЃА:

* Window Manager-рЃўрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃА
* system services
* hardware / drivers

рЃћрЃА рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљ рЃўрЃюрЃљрЃарЃЕрЃБрЃюрЃћрЃЉрЃА:

* рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃЮрЃЉрЃљрЃА
* рЃЏрЃљрЃарЃбрЃўрЃЋ rollback-рЃА
* рЃњрЃљрЃАрЃљрЃњрЃћрЃЉ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃА

---

## ­ЪЊЂ рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЏрЃўрЃЏрЃЮрЃ«рЃўрЃџрЃЋрЃљ

```text
.
РћюРћђ flake.nix
РћюРћђ flake.lock
РћюРћђ hosts/
Рћѓ  РћћРћђ laptop/
Рћѓ     РћюРћђ default.nix
Рћѓ     РћюРћђ hardware.nix
Рћѓ     РћћРћђ users.nix
РћюРћђ home/
Рћѓ  РћћРћђ user.nix
РћћРћђ docs/
   РћюРћђ README.md
   РћюРћђ ARCHITECTURE.md
   РћюРћђ SETUP.md
   РћюРћђ CHECKLIST.md
   РћћРћђ TEACHING-NOTES.md
```

---

## ­ЪћЂ Workflow

рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃфрЃўрЃЎрЃџрЃў:

```bash
nixos-rebuild switch --flake .#laptop
```

рЃљрЃю рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў alias-рЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЌ.

рЃДрЃЋрЃћрЃџрЃљ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ:

* рЃљрЃдрЃгрЃћрЃарЃўрЃџрЃўрЃљ Git-рЃерЃў
* рЃЊрЃљрЃЌрЃљрЃњрЃБрЃџрЃўрЃљ
* рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљрЃЊрЃўрЃљ (rollback)

---

## Рџа№ИЈ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃљ

рЃћрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ **рЃњрЃљрЃюрЃќрЃарЃљрЃ« рЃљрЃа рЃфрЃЊрЃўрЃџрЃЮрЃЉрЃА рЃДрЃЋрЃћрЃџрЃљрЃцрЃарЃўрЃА Home Manager-рЃерЃў рЃњрЃљрЃЊрЃљрЃбрЃљрЃюрЃљрЃА**.

рЃћрЃА рЃљрЃарЃўрЃА рЃерЃћрЃњрЃюрЃћрЃЉрЃБрЃџрЃў рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃБрЃџрЃў рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃўрЃџрЃћрЃЉрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф:

* рЃљрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃЉрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃњрЃљрЃњрЃћрЃЉрЃљрЃА
* рЃљрЃЏрЃфрЃўрЃарЃћрЃЉрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃА
* рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮрЃЊ рЃБрЃцрЃарЃЮ рЃАрЃгрЃЮрЃарЃўрЃљ

---

## ­ЪЊџ рЃЋрЃўрЃА рЃњрЃљрЃЏрЃЮрЃљрЃЊрЃњрЃћрЃЉрЃљ рЃћрЃА рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ

* NixOS-рЃўрЃА рЃерЃћрЃЏрЃАрЃгрЃљрЃЋрЃџрЃћрЃџрЃћрЃЉрЃА
* DevOps / SysAdmin рЃърЃарЃЮрЃцрЃўрЃџрЃўрЃА рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃА
* рЃърЃћрЃЊрЃљрЃњрЃЮрЃњрЃћрЃЉрЃА
* рЃДрЃЋрЃћрЃџрЃљрЃА, рЃЋрЃўрЃАрЃљрЃф рЃАрЃБрЃарЃА **рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃњрЃљрЃАрЃљрЃњрЃћрЃЉрЃў Flake рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ**

---

## ­Ъћњ рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃўрЃА рЃърЃЮрЃџрЃўрЃбрЃўрЃЎрЃљ

* рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃўрЃџрЃўрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ **NixOS 25.11+**
* рЃФрЃЋрЃћрЃџрЃў рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃўрЃА рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃћрЃЉрЃў рЃњрЃљрЃюрЃќрЃарЃљрЃ« рЃљрЃа рЃљрЃарЃўрЃА

---

## ­ЪЊї рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃў

* [`ARCHITECTURE.md`](ARCHITECTURE.md) Рђћ рЃарЃЮрЃњрЃЮрЃа рЃљрЃарЃўрЃА рЃљрЃгрЃДрЃЮрЃЉрЃўрЃџрЃў flake
* [`SETUP.md`](SETUP.md) Рђћ рЃарЃЮрЃњрЃЮрЃа рЃљрЃЋрЃљрЃгрЃДрЃЮрЃЌ рЃюрЃБрЃџрЃўрЃЊрЃљрЃю
* [`CHECKLIST.md`](CHECKLIST.md) Рђћ рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃљрЃЊрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
* [`TEACHING-NOTES.md`](TEACHING-NOTES.md) Рђћ рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃЎрЃЮрЃЏрЃћрЃюрЃбрЃљрЃарЃћрЃЉрЃў

---

**рЃћрЃА рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ рЃљрЃарЃўрЃА рЃАрЃљрЃфрЃюрЃЮрЃЉрЃљрЃарЃЮ рЃгрЃћрЃарЃбрЃўрЃџрЃў.
рЃљрЃарЃљ рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃў. рЃљрЃарЃљ рЃ»рЃљрЃЊрЃЮрЃЦрЃарЃЮрЃЉрЃљ.**



