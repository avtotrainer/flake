#############################################
# HYPRLAND CONFIG — FINAL MERGED VERSION
#############################################

### ENVIRONMENT
env = XDG_CURRENT_DESKTOP,Hyprland
env = WLR_NO_HARDWARE_CURSORS,1
env = LIBVA_DRIVER_NAME,iHD
env = MOZ_ENABLE_WAYLAND,1
env = QT_QPA_PLATFORM,wayland
env = GDK_BACKEND,wayland

#############################################
# APPLICATION VARIABLES (FROM YOUR OLD CONFIG)
#############################################
$terminal = alacritty
$browser = google-chrome-stable
$fileManager = thunar
$menu = wofi --show drun

#############################################
# INPUT (LEAVING YOUR WORKING VERSION)
#############################################
input {
    kb_layout = us,ge
    kb_variant = ,ergonomic
    kb_options = grp:win_space_toggle

    follow_mouse = 1

    repeat_delay = 300
    repeat_rate  = 35

    touchpad {
        natural_scroll = true
        tap-to-click = true
        scroll_factor = 0.8
    }
}

#############################################
# GENERAL
#############################################
general {
    gaps_in = 4
    gaps_out = 8
    border_size = 2
    allow_tearing = false
    hover_icon_on_border = true
    extend_border_grab_area = 15
}

#############################################
# DECORATION
#############################################
decoration {
    rounding = 8

    blur {
        enabled = false
    }

    shadow {
        enabled = false
    }

    active_opacity = 1.0
    inactive_opacity = 0.8
}

#############################################
# ANIMATIONS
#############################################
animations {
    enabled = yes

    animation = windows, 1, 5, default
    animation = fade,    1, 3, default
    animation = global,  1, 7, default
}

#############################################
# LAYOUTS
#############################################
dwindle {
    preserve_split = true
    force_split = 2
}

#############################################
# GESTURES
#############################################
gestures {
    workspace_swipe_invert = false
}

#############################################
# MONITOR
#############################################
monitor = eDP-1,preferred,auto,1

#############################################
# KEYBINDS — *YOUR ORIGINAL KEYBINDS RESTORED*
#############################################

### App launchers
bind = SUPER, RETURN, exec, $terminal
bind = SUPER, B,     exec, $browser
bind = SUPER, F,     exec, $fileManager

### Window control
bind = SUPER, C,        killactive
bind = SUPER SHIFT, Q,        exit
bind = SUPER, V,        togglefloating

### Touchpad toggle
# bind = SUPER, M, exec, hyprctl keyword input:touchpad:enabled toggle

### Focus movement
bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d

### Menu (you used wofi everywhere — leaving it)
bind = SUPER, R,     exec, $menu

### System control
bind = CTRL ALT, RETURN, exec, systemctl poweroff
bind = CTRL ALT, DELETE, exec, systemctl reboot

### Workspaces
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

### Move focused window to workspace
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10

### Resize Mode
bind = SUPER, R, submap, resize

submap = resize
    bind = , left,  resizeactive, -20 0
    bind = , right, resizeactive, 20 0
    bind = , up,    resizeactive, 0 -20
    bind = , down,  resizeactive, 0 20
    bind = , escape, submap, reset
submap = reset

### Screenshot (Wayland-native)
bind = SUPER, S, exec, grim -g "$(slurp)" ~/Pictures/screenshot.png
bindl = ,XF86TouchpadToggle, exec, hyprctl dispatch toggleinput "ELAN06FA:00 04F3:32B9 Touchpad"

### Brightness
bind = ,XF86MonBrightnessUp,   exec, brightnessctl set +10%
bind = ,XF86MonBrightnessDown, exec, brightnessctl set 10%-

### Volume
bind = ,XF86AudioRaiseVolume,  exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = ,XF86AudioLowerVolume,  exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = ,XF86AudioMute,         exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

#############################################
# WINDOW RULES
#############################################
windowrulev2 = noanim, class:(obs)

#############################################
# AUTOSTART
#############################################
# exec-once = waybar
exec-once = hyprpaper
exec-once = nm-applet
exec-once = blueman-applet
exec-once = systemctl --user restart wireplumber

exec-once = hyprctl dispatch exec "[workspace 2 silent"] $terminal
exec-once = hyprctl dispatch exec "[workspace 1"] $browser

exec-once = swww-daemon

animations {
  enabled = true
  animation = windowsIn, 1, 6, default, popin
  animation = fadeIn, 1, 6, default
  animation = fadeOut, 1, 6, default
}

