# Waybar — პრაქტიკული გამოყენება მოდულების გარჩევით

ეს ჰენდაუტი არის **პრაქტიკული გზამკვლევი Waybar-ის გამოყენებაზე**, დაწერილი **რეალური კონფიგის მაგალითზე** (Hyprland + NixOS + Home Manager).

მიზანი:
- გაიგო **როგორ მუშაობს Waybar პრაქტიკაში**
- დაინახო **რას აკეთებს თითოეული მოდული რეალურ ბარში**
- შეძლო **თავისით დამატება/ამოღება/შეცვლა მოდულების**

თეორია მინიმუმამდეა დაყვანილი — აქ არის **კონფიგი + ახსნა**.

---

## 1. Waybar-ის როლი პრაქტიკაში

Waybar არის:
- სტატუს-პანელი Wayland-ისთვის
- რომელიც **არ მართავს სისტემას**, არამედ **აჩვენებს მდგომარეობას**
- და **გაძლევს ტრიგერებს** (კლიკები, სკროლი)

Waybar:
- არ არის widget framework
- არ ხატავს popup ფანჯრებს
- მუშაობს **pull-მოდელით** (კითხულობს მდგომარეობას ინტერვალით)

---

## 2. პრაქტიკული კონტექსტი (რა გარემოში ვმუშაობთ)

ამ ჰენდაუტში ვეყრდნობით ასეთ გარემოს:
- Window Manager: Hyprland
- OS: NixOS
- Config manager: Home Manager
- Waybar სტილი: B სტილი (HM abstraction)

---

## 3. მინიმალური მუშა Waybar კონფიგი

### ფაილი
```
home/waybar/waybar.nix
```

### მინიმალური ჩონჩხი

```nix
programs.waybar = {
  enable = true;
  style = ./style.css;

  settings = {
    mainBar = {
      position = "top";
      modules-left = [ "hyprland/workspaces" ];
      modules-center = [ "clock" ];
      modules-right = [ "cpu" "memory" ];
    };
  };
};
```

ეს უკვე:
- ხატავს პანელს
- აჩვენებს workspace-ებს
- აჩვენებს დროს
- აჩვენებს CPU და RAM-ს

---

## 4. მოდულების გარჩევა — პრაქტიკული მაგალითით

ქვემოთ განვიხილავთ იმ მოდულებს, რომლებიც რეალურად ყველაზე ხშირად გამოიყენება.

---

## 4.1 `hyprland/workspaces`

### რას აკეთებს
- აჩვენებს ყველა workspace-ს
- ხაზს უსვამს აქტიურს
- რეაგირებს მაუსის კლიკზე

### კონფიგი

```nix
"hyprland/workspaces" = {
  on-click = "hyprctl dispatch workspace e+1";
};
```

### რას უნდა ელოდო
- workspace ნომრები/სახელები პანელზე
- სწრაფი ნავიგაცია მაუსით

---

## 4.2 `clock`

### რას აკეთებს
- აჩვენებს დროს
- სურვილისამებრ თარიღსაც

### კონფიგი

```nix
clock = {
  format = "{:%Y-%m-%d %H:%M}";
  tooltip = true;
};
```

### შედეგი
- ცენტრში მუდმივი დრო
- hover-ზე სრული თარიღი

---

## 4.3 `cpu`

### რას აკეთებს
- აჩვენებს CPU დატვირთვას პროცენტებში

### კონფიგი

```nix
cpu = {
  interval = 2;
  format = " {usage}%";
};
```

### რატომ interval = 2
- ზედმეტი refresh არ გჭირდება
- ბარი არ ხტება ვიზუალურად

---

## 4.4 `memory`

### რას აკეთებს
- აჩვენებს RAM გამოყენებას

### კონფიგი

```nix
memory = {
  interval = 2;
  format = " {used}/{total}MB";
};
```

### შედეგი
- ხედავ რეალურ გამოყენებას
- სასარგებლოა დეველოპერისთვის

---

## 4.5 `network`

### რას აკეთებს
- აჩვენებს ქსელის მდგომარეობას

### კონფიგი

```nix
network = {
  format-wifi = "";
  format-ethernet = "";
  format-disconnected = "";
  tooltip = true;
};
```

### შედეგი
- ერთი ხატულით ხვდები, გაქვს თუ არა კავშირი

---

## 4.6 `custom/power` — პრაქტიკული custom მოდული

### იდეა
- power ღილაკი პანელზე
- კლიკით shutdown / reboot

### კონფიგი (B სტილი)

```nix
custom.power = {
  exec = "~/.config/waybar/scripts/power-icon.sh";
  return-type = "json";
  interval = 1;

  on-click = "~/.config/waybar/scripts/confirm-shutdown.sh";
  on-click-right = "~/.config/waybar/scripts/confirm-reboot.sh";
};
```

### რას აკეთებს exec
- აბრუნებს JSON-ს (`text`, `tooltip`, `class`)
- Waybar ხატავს ღილაკს

---

## 5. რატომ არის `custom` მოდულები ასეთი მნიშვნელოვანი

Built-in მოდულები:
- გაძლევენ სტატუსს

Custom მოდულები:
- გაძლევენ **ქცევას**
- გაძლევენ **თავისუფლებას**

რეალურად Waybar-ის ძალა იწყება `custom/*`-დან.

---

## 6. ტიპური შეცდომები პრაქტიკაში

- მოდული არ ჩანს → `modules-right` და კონფიგი არ ემთხვევა
- ტექსტი არ იცვლება → `interval` ძალიან დიდია
- კლიკი არ მუშაობს → სკრიპტი არ არის executable
- JSON error → სკრიპტი stdout-ზე აბრუნებს ზედმეტ ტექსტს

---

## 7. როგორ ივარჯიშო Waybar-ზე

რეკომენდებული პრაქტიკა:
1. დაამატე ერთი მოდული
2. გადატვირთე Waybar
3. დააკვირდი ქცევას
4. მხოლოდ მერე დაამატე შემდეგი

Waybar **არ უყვარს ერთდროული დიდი ცვლილებები**.

---

## 8. საბოლოო დასკვნა

Waybar პრაქტიკაში არის:
- მარტივი
- პროგნოზირებადი
- ძალზე ძლიერი custom მოდულებით

თუ გაიგებ:
- როგორ მუშაობს `modules-*`
- როგორ მუშაობს `custom/*`

შენ შეძლებ **ზუსტად ისეთი პანელის აწყობას**, როგორიც გჭირდება — ზედმეტი მაგიის გარეშე.

---

თუ გინდა, შემდეგ ნაბიჯზე შეგვიძლია:
- ეს ჰენდაუტი გადავაკეთოთ **სასწავლო დავალებებად**
- ან დავამატოთ **CSS პრაქტიკული ნაწილი**
- ან გავაკეთოთ **ერთი სრული „from zero to bar“ ლაბორატორია**

