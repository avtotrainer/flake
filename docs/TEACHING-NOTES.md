# TEACHING-NOTES Рђћ NixOS Flake Dev Machine

рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃў рЃњрЃљрЃюрЃЎрЃБрЃЌрЃЋрЃюрЃўрЃџрЃўрЃљ **рЃърЃћрЃЊрЃљрЃњрЃЮрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА / рЃЏрЃћрЃюрЃбрЃЮрЃарЃўрЃАрЃЌрЃЋрЃўрЃА**.  
рЃљрЃЦ рЃљрЃа рЃљрЃарЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў Рђћ рЃљрЃЦ рЃљрЃарЃўрЃА **рЃљрЃќрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљ**.

---

## ­Ъј» рЃарЃљрЃбрЃЮрЃЏ рЃљрЃарЃўрЃА рЃћрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮрЃЊ рЃАрЃгрЃЮрЃарЃў

рЃћрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃа рЃфрЃЊрЃўрЃџрЃЮрЃЉрЃА:
- рЃДрЃЋрЃћрЃџрЃљрЃцрЃарЃўрЃА РђърЃЏрЃЮрЃЎрЃџрЃћрЃЊ рЃЊрЃљ рЃ»рЃљрЃЊрЃЮрЃАрЃюрЃБрЃарЃљрЃЊРђю рЃњрЃљрЃЎрЃћрЃЌрЃћрЃЉрЃљрЃА
- рЃЊрЃљрЃЏрЃгрЃДрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃљрЃџрЃЋрЃљрЃА рЃарЃћрЃљрЃџрЃБрЃарЃў рЃАрЃўрЃарЃЌрЃБрЃџрЃћрЃћрЃЉрЃўрЃАрЃњрЃљрЃю

рЃљрЃЏрЃўрЃА рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ:
- рЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃА рЃарЃћрЃљрЃџрЃБрЃа рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃА
- рЃљрЃЋрЃўрЃЌрЃљрЃарЃћрЃЉрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃБрЃа рЃљрЃќрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљрЃА
- рЃљрЃАрЃгрЃљрЃЋрЃџрЃўрЃА рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃџрЃЮрЃЉрЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃўрЃ»рЃЋрЃюрЃљрЃА

рЃћрЃА рЃљрЃарЃўрЃА **рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃАрЃўрЃЏрЃЎрЃљрЃфрЃарЃћ**, рЃљрЃарЃљ рЃАрЃўрЃЏрЃљрЃарЃбрЃўрЃЋрЃћ.

---

## ­ЪДа рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃўрЃЊрЃћрЃљ, рЃарЃљрЃф рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЊрЃљрЃАрЃфрЃћ

### 1№ИЈРЃБ Flake РЅа Module
Flake:
- рЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃА
- рЃљрЃа рЃцрЃўрЃЦрЃарЃЮрЃЉрЃА
- рЃљрЃа рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљрЃА

рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА module-рЃћрЃЉрЃерЃўрЃљ.

рЃЌрЃБ рЃАрЃбрЃБрЃЊрЃћрЃюрЃбрЃў рЃўрЃгрЃДрЃћрЃЉрЃА flake.nix-рЃерЃў `if`, `let`, `lib.mkIf`-рЃћрЃЉрЃўрЃА рЃгрЃћрЃарЃљрЃА Рђћ  
рЃљрЃЦрЃЋрЃћ рЃерЃћрЃљрЃЕрЃћрЃарЃћ.

---

### 2№ИЈРЃБ System РЅа User
рЃћрЃА рЃљрЃарЃўрЃА рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃњрЃљрЃЎрЃЋрЃћрЃЌрЃўрЃџрЃў.

**System:**
- hardware
- services
- desktop architecture
- security

**User:**
- shell
- editor
- workflow
- tooling

рЃЌрЃБ рЃћрЃА рЃАрЃљрЃќрЃдрЃЋрЃљрЃарЃў рЃЊрЃљрЃўрЃарЃдрЃЋрЃљ Рђћ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃўрЃерЃџрЃћрЃЉрЃљ.

---

### 3№ИЈРЃБ Home Manager рЃљрЃа рЃљрЃарЃўрЃА РђърЃДрЃЋрЃћрЃџрЃљрЃцрЃарЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃўРђю
рЃФрЃљрЃџрЃўрЃљрЃю рЃњрЃљрЃЋрЃарЃфрЃћрЃџрЃћрЃЉрЃБрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљрЃљ:

> РђърЃарЃљрЃЊрЃњрЃљрЃю рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ, рЃћ. рЃў. рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЊрЃљрЃЋрЃўрЃбрЃљрЃюрЃЮРђю

рЃљрЃарЃљ.

Home Manager рЃљрЃЦ рЃљрЃарЃўрЃА:
- user рЃњрЃљрЃарЃћрЃЏрЃЮрЃАрЃЌрЃЋрЃўрЃА
- рЃљрЃарЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃАрЃљрЃЏрЃљрЃарЃЌрЃљрЃЋрЃљрЃЊ

рЃћрЃА рЃњрЃљрЃюрЃќрЃарЃљрЃ« рЃерЃћрЃќрЃдрЃБрЃЊрЃЋрЃљрЃљ, рЃљрЃарЃљ рЃюрЃљрЃЎрЃџрЃў.

---

## Рџа№ИЈ рЃАрЃљрЃЊ рЃбрЃДрЃЊрЃћрЃЉрЃўрЃљрЃю рЃЊрЃљрЃЏрЃгрЃДрЃћрЃЉрЃћрЃЉрЃў

### РЮї рЃДрЃЋрЃћрЃџрЃљрЃцрЃарЃўрЃА рЃћрЃарЃЌ рЃцрЃљрЃўрЃџрЃерЃў рЃЕрЃљрЃДрЃарЃљ
рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў:
- `user.nix` 500+ рЃ«рЃљрЃќрЃўрЃљ

рЃерЃћрЃЊрЃћрЃњрЃў:
- рЃљрЃарЃљрЃЋрЃўрЃю рЃўрЃфрЃўрЃА, рЃарЃљ рЃАрЃљрЃЊрЃљрЃљ
- рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ рЃ«рЃЊрЃћрЃЉрЃљ рЃАрЃљрЃерЃўрЃерЃў

---

### РЮї Window Manager Home Manager-рЃерЃў
рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў:
- WM рЃўрЃЏрЃљрЃарЃЌрЃћрЃЉрЃљ user-level-рЃќрЃћ

рЃерЃћрЃЊрЃћрЃњрЃў:
- login рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃў
- рЃњрЃљрЃБрЃњрЃћрЃЉрЃљрЃарЃў rollback
- debug рЃЎрЃЮрЃерЃЏрЃљрЃарЃў

---

### РЮї Rebuild flake-рЃўрЃА рЃњрЃљрЃарЃћрЃерЃћ
рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў:
```bash
nixos-rebuild switch
````

рЃерЃћрЃЊрЃћрЃњрЃў:

* рЃАрЃ«рЃЋрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃЕрЃљрЃўрЃбрЃЋрЃўрЃарЃЌрЃљ
* flake рЃБрЃњрЃБрЃџрЃћрЃЉрЃћрЃџрЃДрЃЮрЃцрЃўрЃџрЃўрЃљ

---

## ­ЪДф рЃарЃЮрЃњрЃЮрЃа рЃЋрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃљрЃерЃў

### рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃў рЃАрЃЋрЃџрЃљ:

1. рЃљрЃЕрЃЋрЃћрЃюрЃћ README.md Рђћ РђърЃарЃљ рЃљрЃарЃўрЃА рЃћрЃАРђю
2. рЃњрЃљрЃЊрЃљрЃЊрЃў ARCHITECTURE.md-рЃќрЃћ Рђћ РђърЃарЃЮрЃњрЃЮрЃа рЃљрЃарЃўрЃА рЃљрЃгрЃДрЃЮрЃЉрЃўрЃџрЃўРђю
3. SETUP.md Рђћ РђърЃарЃЮрЃњрЃЮрЃа рЃљрЃЋрЃљрЃгрЃДрЃЮрЃЌРђю
4. CHECKLIST.md Рђћ РђърЃарЃЮрЃњрЃЮрЃа рЃерЃћрЃЋрЃљрЃЏрЃЮрЃгрЃЏрЃЮрЃЌРђю
5. рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЏрЃћрЃарЃћ Рђћ рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃћрЃЉрЃў

рЃљрЃа рЃњрЃљрЃЊрЃљрЃљрЃ«рЃбрЃћ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃА.

---

## ­ЪДЕ рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃАрЃљрЃЋрЃљрЃарЃ»рЃўрЃерЃЮрЃћрЃЉрЃў (рЃўрЃЊрЃћрЃћрЃЉрЃў)

* рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃЏрЃћрЃЮрЃарЃћ host (vm)
* рЃњрЃљрЃгрЃДрЃЋрЃўрЃбрЃћ intentional рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ рЃЊрЃљ рЃЏрЃЮрЃФрЃћрЃЉрЃюрЃћ
* рЃњрЃљрЃЊрЃљрЃўрЃбрЃљрЃюрЃћ рЃарЃљрЃЏрЃћ system Рєњ user рЃЊрЃљ рЃюрЃљрЃ«рЃћ рЃерЃћрЃЊрЃћрЃњрЃў
* рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћ rollback рЃЊрЃљ рЃљрЃ«рЃАрЃћрЃюрЃў рЃарЃљрЃбрЃЮрЃЏ рЃўрЃЏрЃБрЃерЃљрЃЋрЃљ

рЃћрЃА рЃБрЃЎрЃћрЃЌ рЃљрЃАрЃгрЃљрЃЋрЃџрЃўрЃА, рЃЋрЃўрЃЊрЃарЃћ рЃЌрЃћрЃЮрЃарЃўрЃљ.

---

## ­ЪДГ рЃарЃљрЃбрЃЮрЃЏ рЃљрЃарЃўрЃА рЃћрЃА рЃЎрЃљрЃарЃњрЃў dev-machine

рЃћрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљ:

* рЃљрЃа рЃњрЃўрЃќрЃдрЃБрЃЊрЃљрЃЋрЃА
* рЃљрЃа рЃњрЃўрЃерЃџрЃўрЃА рЃ«рЃћрЃџрЃА
* рЃљрЃа рЃњрЃљрЃбрЃДрЃБрЃћрЃЉрЃА

рЃерЃћрЃю рЃќрЃБрЃАрЃбрЃљрЃЊ рЃўрЃфрЃў:

* рЃАрЃљрЃЊ рЃарЃљ рЃгрЃћрЃарЃўрЃљ
* рЃарЃљрЃбрЃЮрЃЏ рЃгрЃћрЃарЃўрЃљ рЃўрЃЦ
* рЃарЃљ рЃЏрЃЮрЃ«рЃЊрЃћрЃЉрЃљ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃўрЃАрЃљрЃА

рЃћрЃА рЃљрЃарЃўрЃА рЃърЃарЃЮрЃцрЃћрЃАрЃўрЃЮрЃюрЃљрЃџрЃБрЃарЃў рЃњрЃљрЃарЃћрЃЏрЃЮ.

---

## ­ЪЈЂ рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃАрЃбрЃБрЃЊрЃћрЃюрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА

рЃЌрЃБ рЃљрЃЏрЃљрЃА рЃћрЃбрЃДрЃЋрЃў рЃЊрЃљ рЃњрЃљрЃўрЃњрЃћрЃЉрЃА Рђћ рЃЏрЃўрЃќрЃљрЃюрЃў рЃЏрЃўрЃдрЃгрЃћрЃБрЃџрЃўрЃљ:

> **NixOS рЃљрЃа рЃљрЃарЃўрЃА рЃарЃЌрЃБрЃџрЃў.
> рЃўрЃА рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃљрЃа рЃњрЃљрЃърЃљрЃбрЃўрЃћрЃЉрЃА рЃљрЃарЃљрЃќрЃБрЃАрЃб рЃљрЃќрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљрЃА.**

---

**рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ рЃљрЃарЃўрЃА рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃБрЃџрЃў.
рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃюрЃљрЃЉрЃўрЃ»рЃў рЃБрЃЎрЃЋрЃћ рЃерЃћрЃюрЃќрЃћрЃљ Рђћ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ.**

