# TEACHING-NOTES Рђћ NixOS Flake Dev Machine

рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃў рЃњрЃљрЃюрЃЎрЃБрЃЌрЃЋрЃюрЃўрЃџрЃўрЃљ **рЃърЃћрЃЊрЃљрЃњрЃЮрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА / рЃЏрЃћрЃюрЃбрЃЮрЃарЃўрЃАрЃЌрЃЋрЃўрЃА**.  
рЃљрЃЦ рЃљрЃа рЃљрЃарЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў Рђћ рЃљрЃЦ рЃљрЃарЃўрЃА **рЃљрЃќрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљ**.

---

## ­Ъј» р▓ар▓љр▓бр▓Юр▓Џ р▓љр▓ар▓ўр▓А р▓ћр▓А р▓Ўр▓Юр▓юр▓цр▓ўр▓њр▓Бр▓ар▓љр▓фр▓ўр▓љ р▓Ар▓љр▓Ар▓гр▓љр▓Ћр▓џр▓Юр▓Њ р▓Ар▓гр▓Юр▓ар▓ў

рЃћрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃа рЃфрЃЊрЃўрЃџрЃЮрЃЉрЃА:
- рЃДрЃЋрЃћрЃџрЃљрЃцрЃарЃўрЃА РђърЃЏрЃЮрЃЎрЃџрЃћрЃЊ рЃЊрЃљ рЃ»рЃљрЃЊрЃЮрЃАрЃюрЃБрЃарЃљрЃЊРђю рЃњрЃљрЃЎрЃћрЃЌрЃћрЃЉрЃљрЃА
- рЃЊрЃљрЃЏрЃгрЃДрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃљрЃџрЃЋрЃљрЃА рЃарЃћрЃљрЃџрЃБрЃарЃў рЃАрЃўрЃарЃЌрЃБрЃџрЃћрЃћрЃЉрЃўрЃАрЃњрЃљрЃю

рЃљрЃЏрЃўрЃА рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ:
- рЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃА рЃарЃћрЃљрЃџрЃБрЃа рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃА
- рЃљрЃЋрЃўрЃЌрЃљрЃарЃћрЃЉрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃБрЃа рЃљрЃќрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљрЃА
- рЃљрЃАрЃгрЃљрЃЋрЃџрЃўрЃА рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃџрЃЮрЃЉрЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃўрЃ»рЃЋрЃюрЃљрЃА

рЃћрЃА рЃљрЃарЃўрЃА **рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃАрЃўрЃЏрЃЎрЃљрЃфрЃарЃћ**, рЃљрЃарЃљ рЃАрЃўрЃЏрЃљрЃарЃбрЃўрЃЋрЃћ.

---

## ­ЪДа р▓Џр▓Ќр▓љр▓Ћр▓љр▓ар▓ў р▓ўр▓Њр▓ћр▓љ, р▓ар▓љр▓ф р▓Бр▓юр▓Њр▓љ р▓њр▓љр▓Њр▓љр▓Ар▓фр▓ћ

### 1№ИЈРЃБ Flake РЅа Module
Flake:
- рЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃА
- рЃљрЃа рЃцрЃўрЃЦрЃарЃЮрЃЉрЃА
- рЃљрЃа рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљрЃА

рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА module-рЃћрЃЉрЃерЃўрЃљ.

рЃЌрЃБ рЃАрЃбрЃБрЃЊрЃћрЃюрЃбрЃў рЃўрЃгрЃДрЃћрЃЉрЃА flake.nix-рЃерЃў `if`, `let`, `lib.mkIf`-рЃћрЃЉрЃўрЃА рЃгрЃћрЃарЃљрЃА Рђћ  
рЃљрЃЦрЃЋрЃћ рЃерЃћрЃљрЃЕрЃћрЃарЃћ.

---

### 2№ИЈРЃБ System РЅа User
рЃћрЃА рЃљрЃарЃўрЃА рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃњрЃљрЃЎрЃЋрЃћрЃЌрЃўрЃџрЃў.

**System:**
- hardware
- services
- desktop architecture
- security

**User:**
- shell
- editor
- workflow
- tooling

рЃЌрЃБ рЃћрЃА рЃАрЃљрЃќрЃдрЃЋрЃљрЃарЃў рЃЊрЃљрЃўрЃарЃдрЃЋрЃљ Рђћ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃўрЃерЃџрЃћрЃЉрЃљ.

---

### 3№ИЈРЃБ Home Manager рЃљрЃа рЃљрЃарЃўрЃА РђърЃДрЃЋрЃћрЃџрЃљрЃцрЃарЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃўРђю
рЃФрЃљрЃџрЃўрЃљрЃю рЃњрЃљрЃЋрЃарЃфрЃћрЃџрЃћрЃЉрЃБрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљрЃљ:

> РђърЃарЃљрЃЊрЃњрЃљрЃю рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ, рЃћ. рЃў. рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЊрЃљрЃЋрЃўрЃбрЃљрЃюрЃЮРђю

рЃљрЃарЃљ.

Home Manager рЃљрЃЦ рЃљрЃарЃўрЃА:
- user рЃњрЃљрЃарЃћрЃЏрЃЮрЃАрЃЌрЃЋрЃўрЃА
- рЃљрЃарЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃАрЃљрЃЏрЃљрЃарЃЌрЃљрЃЋрЃљрЃЊ

рЃћрЃА рЃњрЃљрЃюрЃќрЃарЃљрЃ« рЃерЃћрЃќрЃдрЃБрЃЊрЃЋрЃљрЃљ, рЃљрЃарЃљ рЃюрЃљрЃЎрЃџрЃў.

---

## Рџа№ИЈ р▓Ар▓љр▓Њ р▓бр▓Др▓Њр▓ћр▓Љр▓ўр▓љр▓ю р▓Њр▓љр▓Џр▓гр▓Др▓ћр▓Љр▓ћр▓Љр▓ў

### РЮї р▓Др▓Ћр▓ћр▓џр▓љр▓цр▓ар▓ўр▓А р▓ћр▓ар▓Ќ р▓цр▓љр▓ўр▓џр▓ер▓ў р▓Ер▓љр▓Др▓ар▓љ
рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў:
- `user.nix` 500+ рЃ«рЃљрЃќрЃўрЃљ

рЃерЃћрЃЊрЃћрЃњрЃў:
- рЃљрЃарЃљрЃЋрЃўрЃю рЃўрЃфрЃўрЃА, рЃарЃљ рЃАрЃљрЃЊрЃљрЃљ
- рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ рЃ«рЃЊрЃћрЃЉрЃљ рЃАрЃљрЃерЃўрЃерЃў

---

### РЮї Window Manager Home Manager-рЃерЃў
рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў:
- WM рЃўрЃЏрЃљрЃарЃЌрЃћрЃЉрЃљ user-level-рЃќрЃћ

рЃерЃћрЃЊрЃћрЃњрЃў:
- login рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃў
- рЃњрЃљрЃБрЃњрЃћрЃЉрЃљрЃарЃў rollback
- debug рЃЎрЃЮрЃерЃЏрЃљрЃарЃў

---

### РЮї Rebuild flake-р▓ўр▓А р▓њр▓љр▓ар▓ћр▓ер▓ћ
рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў:
```bash
nixos-rebuild switch
````

рЃерЃћрЃЊрЃћрЃњрЃў:

* рЃАрЃ«рЃЋрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃЕрЃљрЃўрЃбрЃЋрЃўрЃарЃЌрЃљ
* flake рЃБрЃњрЃБрЃџрЃћрЃЉрЃћрЃџрЃДрЃЮрЃцрЃўрЃџрЃўрЃљ

---

## ­ЪДф р▓ар▓Юр▓њр▓Юр▓а р▓Ћр▓љр▓Ар▓гр▓љр▓Ћр▓џр▓Ю р▓ър▓ар▓љр▓Цр▓бр▓ўр▓Ўр▓љр▓ер▓ў

### р▓ар▓ћр▓Ўр▓Юр▓Џр▓ћр▓юр▓Њр▓ћр▓Љр▓Бр▓џр▓ў р▓Ар▓Ћр▓џр▓љ:

1. рЃљрЃЕрЃЋрЃћрЃюрЃћ README.md Рђћ РђърЃарЃљ рЃљрЃарЃўрЃА рЃћрЃАРђю
2. рЃњрЃљрЃЊрЃљрЃЊрЃў ARCHITECTURE.md-рЃќрЃћ Рђћ РђърЃарЃЮрЃњрЃЮрЃа рЃљрЃарЃўрЃА рЃљрЃгрЃДрЃЮрЃЉрЃўрЃџрЃўРђю
3. SETUP.md Рђћ РђърЃарЃЮрЃњрЃЮрЃа рЃљрЃЋрЃљрЃгрЃДрЃЮрЃЌРђю
4. CHECKLIST.md Рђћ РђърЃарЃЮрЃњрЃЮрЃа рЃерЃћрЃЋрЃљрЃЏрЃЮрЃгрЃЏрЃЮрЃЌРђю
5. рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЏрЃћрЃарЃћ Рђћ рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃћрЃЉрЃў

рЃљрЃа рЃњрЃљрЃЊрЃљрЃљрЃ«рЃбрЃћ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃА.

---

## ­ЪДЕ р▓Ар▓љр▓Ар▓гр▓љр▓Ћр▓џр▓Ю р▓Ар▓љр▓Ћр▓љр▓ар▓»р▓ўр▓ер▓Юр▓ћр▓Љр▓ў (р▓ўр▓Њр▓ћр▓ћр▓Љр▓ў)

* рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃЏрЃћрЃЮрЃарЃћ host (vm)
* рЃњрЃљрЃгрЃДрЃЋрЃўрЃбрЃћ intentional рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ рЃЊрЃљ рЃЏрЃЮрЃФрЃћрЃЉрЃюрЃћ
* рЃњрЃљрЃЊрЃљрЃўрЃбрЃљрЃюрЃћ рЃарЃљрЃЏрЃћ system Рєњ user рЃЊрЃљ рЃюрЃљрЃ«рЃћ рЃерЃћрЃЊрЃћрЃњрЃў
* рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћ rollback рЃЊрЃљ рЃљрЃ«рЃАрЃћрЃюрЃў рЃарЃљрЃбрЃЮрЃЏ рЃўрЃЏрЃБрЃерЃљрЃЋрЃљ

рЃћрЃА рЃБрЃЎрЃћрЃЌ рЃљрЃАрЃгрЃљрЃЋрЃџрЃўрЃА, рЃЋрЃўрЃЊрЃарЃћ рЃЌрЃћрЃЮрЃарЃўрЃљ.

---

## ­ЪДГ р▓ар▓љр▓бр▓Юр▓Џ р▓љр▓ар▓ўр▓А р▓ћр▓А р▓Ўр▓љр▓ар▓њр▓ў dev-machine

рЃћрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљ:

* рЃљрЃа рЃњрЃўрЃќрЃдрЃБрЃЊрЃљрЃЋрЃА
* рЃљрЃа рЃњрЃўрЃерЃџрЃўрЃА рЃ«рЃћрЃџрЃА
* рЃљрЃа рЃњрЃљрЃбрЃДрЃБрЃћрЃЉрЃА

рЃерЃћрЃю рЃќрЃБрЃАрЃбрЃљрЃЊ рЃўрЃфрЃў:

* рЃАрЃљрЃЊ рЃарЃљ рЃгрЃћрЃарЃўрЃљ
* рЃарЃљрЃбрЃЮрЃЏ рЃгрЃћрЃарЃўрЃљ рЃўрЃЦ
* рЃарЃљ рЃЏрЃЮрЃ«рЃЊрЃћрЃЉрЃљ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃўрЃАрЃљрЃА

рЃћрЃА рЃљрЃарЃўрЃА рЃърЃарЃЮрЃцрЃћрЃАрЃўрЃЮрЃюрЃљрЃџрЃБрЃарЃў рЃњрЃљрЃарЃћрЃЏрЃЮ.

---

## ­ЪЈЂ рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃАрЃбрЃБрЃЊрЃћрЃюрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА

рЃЌрЃБ рЃљрЃЏрЃљрЃА рЃћрЃбрЃДрЃЋрЃў рЃЊрЃљ рЃњрЃљрЃўрЃњрЃћрЃЉрЃА Рђћ рЃЏрЃўрЃќрЃљрЃюрЃў рЃЏрЃўрЃдрЃгрЃћрЃБрЃџрЃўрЃљ:

> **NixOS рЃљрЃа рЃљрЃарЃўрЃА рЃарЃЌрЃБрЃџрЃў.
> рЃўрЃА рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃљрЃа рЃњрЃљрЃърЃљрЃбрЃўрЃћрЃЉрЃА рЃљрЃарЃљрЃќрЃБрЃАрЃб рЃљрЃќрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљрЃА.**

---

**рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ рЃљрЃарЃўрЃА рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃБрЃџрЃў.
рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃюрЃљрЃЉрЃўрЃ»рЃў рЃБрЃЎрЃЋрЃћ рЃерЃћрЃюрЃќрЃћрЃљ Рђћ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ.**

